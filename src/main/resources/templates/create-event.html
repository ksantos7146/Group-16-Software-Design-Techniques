<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Create Event - GetVibe</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="../css/style.css">
    <!-- using namespace std; --> <!-- Student comment -->
    <style>
        .create-event-container {
            max-width: 800px;
            margin: 0 auto;
        }
        .form-section {
            background-color: #fff;
            border-radius: 10px;
            padding: 30px;
            margin-bottom: 30px;
            box-shadow: 0 0 20px rgba(0,0,0,0.05);
        }
        .form-section h3 {
            margin-bottom: 20px;
            color: #333;
            font-weight: 600;
        }
        .form-label {
            font-weight: 500;
        }
        .image-preview {
            width: 100%;
            height: 250px;
            background-color: #f8f9fa;
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
            margin-bottom: 15px;
        }
        .image-preview img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        .image-preview-placeholder {
            color: #6c757d;
            text-align: center;
        }
        .map-container {
            height: 250px;
            border-radius: 10px;
            overflow: hidden;
            margin-top: 10px;
        }
        .category-checkbox {
            margin-bottom: 10px;
        }
        .btn-create-event {
            background-color: #c13232;
            border-color: #c13232;
            padding: 10px 20px;
            font-weight: 500;
        }
        .btn-create-event:hover {
            background-color: #a12828;
            border-color: #a12828;
        }
        .btn-save-draft {
            background-color: #6c757d;
            border-color: #6c757d;
            padding: 10px 20px;
            font-weight: 500;
        }
        .btn-save-draft:hover {
            background-color: #5a6268;
            border-color: #5a6268;
        }
        .event-preview {
            background-color: #f8f9fa;
            border-radius: 10px;
            padding: 20px;
            margin-top: 20px;
        }
        .event-preview-title {
            font-size: 1.5rem;
            font-weight: 600;
            margin-bottom: 10px;
        }
        .event-preview-meta {
            display: flex;
            align-items: center;
            margin-bottom: 10px;
        }
        .event-preview-meta i {
            color: #c13232;
            margin-right: 10px;
            width: 20px;
            text-align: center;
        }
    </style>
</head>
<body>
    <!-- Header Navigation -->
    <nav class="navbar navbar-expand-lg navbar-dark" style="background-color: #c13232;">
        <div class="container">
            <a class="navbar-brand" href="index.html">
                <img src="../images/logo.png" alt="GetVibe" height="30">
                GetVibe
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav me-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="index.html">Home</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="events.html">Events</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="about.html">About</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="contact.html">Contact</a>
                    </li>
                    <!-- Removed Upload Images link as requested -->
                </ul>
                <div class="d-flex">
                    <a href="create-event.html" class="btn btn-outline-light me-2 active">Create Event</a>
                    <div class="dropdown">
                        <button class="btn btn-light dropdown-toggle" type="button" id="profileDropdown" data-bs-toggle="dropdown" aria-expanded="false">
                            <i class="fas fa-user-circle"></i>
                        </button>
                        <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="profileDropdown">
                            <li><a class="dropdown-item" href="account-settings.html">Account Settings</a></li>
                            <li><a class="dropdown-item" href="#">My Events</a></li>
                            <li><a class="dropdown-item" href="#">My Tickets</a></li>
                            <li><hr class="dropdown-divider"></li>
                            <li><a class="dropdown-item" href="#" id="logoutBtn">Logout</a></li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </nav>

    <!-- Create Event Section -->
    <section class="py-5">
        <div class="container">
            <div class="create-event-container">
                <!-- Back Button -->
                <div class="mb-4">
                    <a href="javascript:history.back()" class="text-decoration-none">
                        <i class="fas fa-arrow-left me-2"></i> Back
                    </a>
                </div>
                
                <h2 class="mb-4">Create New Event</h2>
                
                <form id="create-event-form">
                    <!-- Basic Information Section -->
                    <div class="form-section">
                        <h3>Basic Information</h3>
                        
                        <!-- Event Title -->
                        <div class="mb-3">
                            <label for="event-title" class="form-label">Event Title *</label>
                            <input type="text" class="form-control" id="event-title" name="event-title" required>
                            <div class="form-text">Choose a clear, descriptive title for your event.</div>
                        </div>
                        
                        <!-- Event Description -->
                        <div class="mb-3">
                            <label for="event-description" class="form-label">Event Description *</label>
                            <textarea class="form-control" id="event-description" name="event-description" rows="5" required></textarea>
                            <div class="form-text">Provide details about what attendees can expect at your event.</div>
                        </div>
                        
                        <!-- Event Image -->
                        <div class="mb-3">
                            <label for="event-image" class="form-label">Event Image *</label>
                            <div class="image-preview" id="image-preview">
                                <div class="image-preview-placeholder">
                                    <i class="fas fa-image fa-3x mb-2"></i>
                                    <p>Upload an image for your event</p>
                                </div>
                            </div>
                            <input type="file" class="form-control" id="event-image" name="event-image" accept="image/*" required>
                            <div class="form-text">Feature image must be at least 1170 pixels wide by 504 pixels high. Valid file formats: JPG, GIF, PNG.</div>
                        </div>
                    </div>
                    
                    <!-- Date and Time Section -->
                    <div class="form-section">
                        <h3>Date and Time</h3>
                        
                        <div class="row">
                            <!-- Start Date -->
                            <div class="col-md-6 mb-3">
                                <label for="start-date" class="form-label">Start Date *</label>
                                <input type="date" class="form-control" id="start-date" name="start-date" required>
                            </div>
                            
                            <!-- Start Time -->
                            <div class="col-md-6 mb-3">
                                <label for="start-time" class="form-label">Start Time *</label>
                                <input type="time" class="form-control" id="start-time" name="start-time" required>
                            </div>
                        </div>
                        
                        <div class="row">
                            <!-- End Date -->
                            <div class="col-md-6 mb-3">
                                <label for="end-date" class="form-label">End Date *</label>
                                <input type="date" class="form-control" id="end-date" name="end-date" required>
                            </div>
                            
                            <!-- End Time -->
                            <div class="col-md-6 mb-3">
                                <label for="end-time" class="form-label">End Time *</label>
                                <input type="time" class="form-control" id="end-time" name="end-time" required>
                            </div>
                        </div>
                        
                        <!-- Time Zone -->
                        <div class="mb-3">
                            <label for="time-zone" class="form-label">Time Zone *</label>
                            <select class="form-select" id="time-zone" name="time-zone" required>
                                <option value="" selected disabled>Select a time zone</option>
                                <option value="EST">Eastern Time (EST)</option>
                                <option value="CST">Central Time (CST)</option>
                                <option value="MST">Mountain Time (MST)</option>
                                <option value="PST">Pacific Time (PST)</option>
                                <option value="IST">India Standard Time (IST)</option>
                                <option value="GMT">Greenwich Mean Time (GMT)</option>
                            </select>
                        </div>
                    </div>
                    
                    <!-- Location Section -->
                    <div class="form-section">
                        <h3>Location</h3>
                        
                        <!-- Event Type -->
                        <div class="mb-3">
                            <label class="form-label">Event Type *</label>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="event-type" id="event-type-venue" value="venue" checked>
                                <label class="form-check-label" for="event-type-venue">
                                    Venue
                                </label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="event-type" id="event-type-online" value="online">
                                <label class="form-check-label" for="event-type-online">
                                    Online
                                </label>
                            </div>
                        </div>
                        
                        <!-- Venue Location (shown when Venue is selected) -->
                        <div id="venue-location">
                            <div class="mb-3">
                                <label for="venue-name" class="form-label">Venue Name *</label>
                                <input type="text" class="form-control" id="venue-name" name="venue-name">
                            </div>
                            
                            <div class="mb-3">
                                <label for="venue-address" class="form-label">Address *</label>
                                <input type="text" class="form-control" id="venue-address" name="venue-address">
                            </div>
                            
                            <div class="row">
                                <div class="col-md-6 mb-3">
                                    <label for="venue-city" class="form-label">City *</label>
                                    <input type="text" class="form-control" id="venue-city" name="venue-city">
                                </div>
                                
                                <div class="col-md-6 mb-3">
                                    <label for="venue-state" class="form-label">State/Province *</label>
                                    <input type="text" class="form-control" id="venue-state" name="venue-state">
                                </div>
                            </div>
                            
                            <div class="row">
                                <div class="col-md-6 mb-3">
                                    <label for="venue-country" class="form-label">Country *</label>
                                    <input type="text" class="form-control" id="venue-country" name="venue-country">
                                </div>
                                
                                <div class="col-md-6 mb-3">
                                    <label for="venue-zip" class="form-label">Postal Code *</label>
                                    <input type="text" class="form-control" id="venue-zip" name="venue-zip">
                                </div>
                            </div>
                            
                            <!-- Map -->
                            <div class="mb-3">
                                <label class="form-label">Map</label>
                                <div class="map-container">
                                    <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d2895.1234567890123!2d-79.12345678901234!3d43.12345678901234!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x0%3A0x0!2zNDPCsDA3JzI0LjQiTiA3OcKwMDcnMjQuNCJX!5e0!3m2!1sen!2sca!4v1648123456789!5m2!1sen!2sca" width="100%" height="100%" style="border:0;" allowfullscreen="" loading="lazy"></iframe>
                                </div>
                                <div class="form-text">Drag the marker to set the exact location.</div>
                            </div>
                        </div>
                        
                        <!-- Online Location (hidden by default) -->
                        <div id="online-location" style="display: none;">
                            <div class="mb-3">
                                <label for="online-url" class="form-label">Event URL *</label>
                                <input type="url" class="form-control" id="online-url" name="online-url">
                                <div class="form-text">Add a link to your online event (Zoom, Google Meet, etc.)</div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Tickets Section -->
                    <div class="form-section">
                        <h3>Tickets</h3>
                        
                        <!-- Ticket Type -->
                        <div class="mb-3">
                            <label class="form-label">Ticket Type *</label>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="ticket-type" id="ticket-type-free" value="free" checked>
                                <label class="form-check-label" for="ticket-type-free">
                                    Free
                                </label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="ticket-type" id="ticket-type-paid" value="paid">
                                <label class="form-check-label" for="ticket-type-paid">
                                    Paid
                                </label>
                            </div>
                        </div>
                        
                        <!-- Paid Ticket Options (hidden by default) -->
                        <div id="paid-ticket-options" style="display: none;">
                            <div class="row">
                                <div class="col-md-6 mb-3">
                                    <label for="ticket-price" class="form-label">Price *</label>
                                    <div class="input-group">
                                        <span class="input-group-text">$</span>
                                        <input type="number" class="form-control" id="ticket-price" name="ticket-price" min="0" step="0.01">
                                    </div>
                                </div>
                                
                                <div class="col-md-6 mb-3">
                                    <label for="ticket-currency" class="form-label">Currency *</label>
                                    <select class="form-select" id="ticket-currency" name="ticket-currency">
                                        <option value="USD" selected>USD</option>
                                        <option value="CAD">CAD</option>
                                        <option value="EUR">EUR</option>
                                        <option value="GBP">GBP</option>
                                        <option value="INR">INR</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Capacity -->
                        <div class="mb-3">
                            <label for="event-capacity" class="form-label">Capacity *</label>
                            <input type="number" class="form-control" id="event-capacity" name="event-capacity" min="1" required>
                            <div class="form-text">Maximum number of attendees for your event.</div>
                        </div>
                    </div>
                    
                    <!-- Categories Section -->
                    <div class="form-section">
                        <h3>Categories</h3>
                        <p class="text-muted mb-3">Select up to 3 categories that best describe your event.</p>
                        
                        <div class="row">
                            <div class="col-md-4">
                                <div class="category-checkbox form-check">
                                    <input class="form-check-input" type="checkbox" value="entertainment" id="category-entertainment">
                                    <label class="form-check-label" for="category-entertainment">
                                        Entertainment
                                    </label>
                                </div>
                                <div class="category-checkbox form-check">
                                    <input class="form-check-input" type="checkbox" value="education" id="category-education">
                                    <label class="form-check-label" for="category-education">
                                        Education & Business
                                    </label>
                                </div>
                                <div class="category-checkbox form-check">
                                    <input class="form-check-input" type="checkbox" value="cultural" id="category-cultural">
                                    <label class="form-check-label" for="category-cultural">
                                        Cultural & Arts
                                    </label>
                                </div>
                            </div>
                            <div class="col-md-4">
                                <div class="category-checkbox form-check">
                                    <input class="form-check-input" type="checkbox" value="sports" id="category-sports">
                                    <label class="form-check-label" for="category-sports">
                                        Sports & Fitness
                                    </label>
                                </div>
                                <div class="category-checkbox form-check">
                                    <input class="form-check-input" type="checkbox" value="technology" id="category-technology">
                                    <label class="form-check-label" for="category-technology">
                                        Technology & Innovation
                                    </label>
                                </div>
                                <div class="category-checkbox form-check">
                                    <input class="form-check-input" type="checkbox" value="travel" id="category-travel">
                                    <label class="form-check-label" for="category-travel">
                                        Travel & Adventure
                                    </label>
                                </div>
                            </div>
                            <div class="col-md-4">
                                <div class="category-checkbox form-check">
                                    <input class="form-check-input" type="checkbox" value="food" id="category-food">
                                    <label class="form-check-label" for="category-food">
                                        Food & Drink
                                    </label>
                                </div>
                                <div class="category-checkbox form-check">
                                    <input class="form-check-input" type="checkbox" value="health" id="category-health">
                                    <label class="form-check-label" for="category-health">
                                        Health & Wellness
                                    </label>
                                </div>
                                <div class="category-checkbox form-check">
                                    <input class="form-check-input" type="checkbox" value="community" id="category-community">
                                    <label class="form-check-label" for="category-community">
                                        Community & Causes
                                    </label>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Event Preview -->
                    <div class="event-preview">
                        <h4 class="mb-3">Event Preview</h4>
                        <div id="event-preview-content">
                            <div class="event-preview-title" id="preview-title">Event Title</div>
                            <div class="event-preview-meta">
                                <i class="far fa-calendar-alt"></i>
                                <div id="preview-date">Date</div>
                            </div>
                            <div class="event-preview-meta">
                                <i class="far fa-clock"></i>
                                <div id="preview-time">Time</div>
                            </div>
                            <div class="event-preview-meta">
                                <i class="fas fa-map-marker-alt"></i>
                                <div id="preview-location">Location</div>
                            </div>
                            <p class="text-muted mt-3">Nearly there! Check everything's correct.</p>
                        </div>
                    </div>
                    
                    <!-- Submit Buttons -->
                    <div class="d-flex justify-content-between mt-4">
                        <button type="button" class="btn btn-secondary btn-save-draft">Save as Draft</button>
                        <button type="submit" class="btn btn-primary btn-create-event">Publish Event</button>
                    </div>
                </form>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="bg-light py-4 mt-5">
        <div class="container">
            <div class="row">
                <div class="col-md-4">
                    <h5>GetVibe</h5>
                    <p>Discover events happening around you and connect with like-minded people.</p>
                </div>
                <div class="col-md-4">
                    <h5>Quick Links</h5>
                    <ul class="list-unstyled">
                        <li><a href="index.html" class="text-decoration-none">Home</a></li>
                        <li><a href="events.html" class="text-decoration-none">Events</a></li>
                        <li><a href="about.html" class="text-decoration-none">About</a></li>
                        <li><a href="contact.html" class="text-decoration-none">Contact</a></li>
                        <!-- Removed Upload Images link from footer as well -->
                    </ul>
                </div>
                <div class="col-md-4">
                    <h5>Contact Us</h5>
                    <p>Email: info@getvibe.com<br>
                    Phone: (123) 456-7890</p>
                </div>
            </div>
            <div class="row mt-3">
                <div class="col-12 text-center">
                    <p class="mb-0">© 2025 GetVibe. All rights reserved.</p>
                </div>
            </div>
        </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="../js/script.js"></script>
    <script>
        // Check if user is logged in, if not redirect to login page
        document.addEventListener('DOMContentLoaded', function() {
            // In a real application, this would check for a session token or similar
            // For demo purposes, we'll just simulate this check
            const isLoggedIn = localStorage.getItem('isLoggedIn');
            if (!isLoggedIn) {
                // Redirect to login page if not logged in
                window.location.href = 'login.html';
            }
        });
        
        // Logout functionality
        document.getElementById('logoutBtn').addEventListener('click', function(e) {
            e.preventDefault();
            // Clear login status
            localStorage.removeItem('isLoggedIn');
            // Redirect to login page
            window.location.href = 'login.html';
        });
        
        // Image Preview
        document.getElementById('event-image').addEventListener('change', function(e) {
            const file = e.target.files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    const preview = document.getElementById('image-preview');
                    preview.innerHTML = `<img src="${e.target.result}" alt="Event Image Preview">`;
                }
                reader.readAsDataURL(file);
            }
        });
        
        // Toggle between Venue and Online location
        document.querySelectorAll('input[name="event-type"]').forEach(radio => {
            radio.addEventListener('change', function() {
                const venueLocation = document.getElementById('venue-location');
                const onlineLocation = document.getElementById('online-location');
                
                if (this.value === 'venue') {
                    venueLocation.style.display = 'block';
                    onlineLocation.style.display = 'none';
                } else {
                    venueLocation.style.display = 'none';
                    onlineLocation.style.display = 'block';
                }
                
                updatePreview();
            });
        });
        
        // Toggle between Free and Paid tickets
        document.querySelectorAll('input[name="ticket-type"]').forEach(radio => {
            radio.addEventListener('change', function() {
                const paidTicketOptions = document.getElementById('paid-ticket-options');
                
                if (this.value === 'paid') {
                    paidTicketOptions.style.display = 'block';
                } else {
                    paidTicketOptions.style.display = 'none';
                }
                
                updatePreview();
            });
        });
        
        // Limit category selection to 3
        const categoryCheckboxes = document.querySelectorAll('.category-checkbox input[type="checkbox"]');
        categoryCheckboxes.forEach(checkbox => {
            checkbox.addEventListener('change', function() {
                const checkedCategories = document.querySelectorAll('.category-checkbox input[type="checkbox"]:checked');
                
                if (checkedCategories.length > 3) {
                    this.checked = false;
                    alert('You can select up to 3 categories only.');
                }
            });
        });
        
        // Update Preview
        function updatePreview() {
            const title = document.getElementById('event-title').value || 'Event Title';
            document.getElementById('preview-title').textContent = title;
            
            const startDate = document.getElementById('start-date').value;
            const endDate = document.getElementById('end-date').value;
            let dateText = 'Date';
            
            if (startDate) {
                const formattedStartDate = new Date(startDate).toLocaleDateString('en-US', { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' });
                dateText = formattedStartDate;
                
                if (endDate && endDate !== startDate) {
                    const formattedEndDate = new Date(endDate).toLocaleDateString('en-US', { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' });
                    dateText += ` to ${formattedEndDate}`;
                }
            }
            
            document.getElementById('preview-date').textContent = dateText;
            
            const startTime = document.getElementById('start-time').value;
            const endTime = document.getElementById('end-time').value;
            let timeText = 'Time';
            
            if (startTime) {
                timeText = startTime;
                
                if (endTime) {
                    timeText += ` - ${endTime}`;
                }
            }
            
            document.getElementById('preview-time').textContent = timeText;
            
            let locationText = 'Location';
            const eventType = document.querySelector('input[name="event-type"]:checked').value;
            
            if (eventType === 'venue') {
                const venueName = document.getElementById('venue-name').value;
                const venueCity = document.getElementById('venue-city').value;
                
                if (venueName && venueCity) {
                    locationText = `${venueName}, ${venueCity}`;
                } else if (venueName) {
                    locationText = venueName;
                } else if (venueCity) {
                    locationText = venueCity;
                }
            } else {
                locationText = 'Online';
            }
            
            document.getElementById('preview-location').textContent = locationText;
        }
        
        // Update preview on input changes
        const formInputs = document.querySelectorAll('input, textarea, select');
        formInputs.forEach(input => {
            input.addEventListener('input', updatePreview);
        });
        
        // Form submission
        document.getElementById('create-event-form').addEventListener('submit', function(e) {
            e.preventDefault();
            
            // In a real app, this would submit the form data to the server
            // For now, we'll just simulate a successful submission
            
            alert('Event created successfully! Redirecting to the event page...');
            window.location.href = 'event-detail.html';
        });
        
        // Save as Draft button
        document.querySelector('.btn-save-draft').addEventListener('click', function() {
            alert('Event saved as draft! You can continue editing later.');
        });
    </script>
</body>
</html>
